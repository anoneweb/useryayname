<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Login & Admin Username Generator</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #eef2f7;
      margin: 0; padding: 20px;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
    }
    .container {
      background: white;
      padding: 30px 40px;
      border-radius: 12px;
      max-width: 400px;
      width: 100%;
      box-shadow: 0 8px 16px rgba(0,0,0,0.15);
    }
    h2 {
      margin-top: 0;
      color: #333;
    }
    label {
      font-weight: bold;
      display: block;
      margin: 12px 0 6px;
    }
    input[type="text"], input[type="password"] {
      width: 100%;
      padding: 10px;
      font-size: 1rem;
      border-radius: 6px;
      border: 1.5px solid #ccc;
    }
    button {
      margin-top: 20px;
      width: 100%;
      padding: 12px;
      background-color: #0b3d91;
      border: none;
      border-radius: 8px;
      color: white;
      font-weight: bold;
      cursor: pointer;
      font-size: 1.1rem;
      transition: background-color 0.3s ease;
    }
    button:hover {
      background-color: #084077;
    }
    .error {
      color: red;
      margin-top: 8px;
    }
    .link-button {
      background: none;
      border: none;
      color: #0b3d91;
      cursor: pointer;
      text-decoration: underline;
      font-size: 1rem;
      margin-top: 12px;
      display: inline-block;
      padding: 0;
    }
    .hidden {
      display: none;
    }
    #admin-list {
      max-height: 120px;
      overflow-y: auto;
      margin-top: 12px;
      border: 1px solid #ccc;
      padding: 10px;
      border-radius: 8px;
      font-family: monospace;
      background: #f9f9f9;
    }

    /* Style for generator page */
    .filter-type {
      margin-bottom: 20px;
      display: flex;
      gap: 24px;
      font-size: 1rem;
      color: #444;
    }
    .alphabet-buttons {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(36px, 1fr));
      gap: 10px;
      margin-bottom: 32px;
    }
    .alphabet-buttons button {
      background: #e4e9f7;
      border: none;
      border-radius: 8px;
      padding: 10px 0;
      font-weight: 700;
      font-size: 1.1rem;
      color: #0b3d91;
      cursor: pointer;
      box-shadow: 0 2px 6px rgba(11, 61, 145, 0.2);
      transition: background-color 0.3s ease, color 0.3s ease;
      user-select: none;
    }
    .alphabet-buttons button:hover {
      background-color: #0b3d91;
      color: #fff;
    }
    .alphabet-buttons button.active {
      background-color: #0b3d91;
      color: #fff;
      box-shadow: 0 4px 10px rgba(11, 61, 145, 0.5);
    }
    .generate {
      width: 100%;
      background: #0b3d91;
      border: none;
      padding: 14px 0;
      color: #fff;
      font-weight: 700;
      font-size: 1.2rem;
      border-radius: 10px;
      cursor: pointer;
      box-shadow: 0 6px 15px rgba(11, 61, 145, 0.5);
      transition: background-color 0.3s ease;
      user-select: none;
    }
    .generate:hover {
      background-color: #084077;
    }
    #results {
      margin-top: 32px;
      max-height: 320px;
      overflow-y: auto;
      padding: 20px;
      background: #f5f9ff;
      border-radius: 12px;
      border: 1.5px solid #c3d0f5;
      font-family: 'Courier New', Courier, monospace;
      font-size: 1rem;
      color: #0b3d91;
    }
    #results div {
      margin-bottom: 8px;
      display: flex;
      justify-content: flex-start;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap;
    }
    #results strong {
      font-weight: 700;
      white-space: nowrap;
    }
    #results a {
      color: #084077;
      text-decoration: none;
      font-weight: 600;
      word-break: break-word;
      flex-shrink: 0;
    }
    #results a:hover {
      text-decoration: underline;
    }
    /* Scrollbar styling for results */
    #results::-webkit-scrollbar {
      width: 8px;
    }
    #results::-webkit-scrollbar-thumb {
      background-color: #0b3d91;
      border-radius: 10px;
    }
    @media (max-width: 480px) {
      .container {
        padding: 20px;
      }
      .filter-type {
        flex-direction: column;
        gap: 12px;
      }
      #results div {
        flex-direction: column;
        align-items: flex-start;
      }
      #results a {
        word-break: break-word;
      }
    }
  </style>
</head>
<body>

  <!-- Login Page -->
  <div class="container" id="loginPage">
    <h2>Login User</h2>
    <label for="accessCodeInput">Masukkan Kode Akses:</label>
    <input type="text" id="accessCodeInput" autocomplete="off" />
    <div class="error" id="loginError"></div>
    <button id="loginBtn">Login</button>
    <button class="link-button" id="goAdminBtn">Masuk Admin</button>
  </div>

  <!-- Admin Page -->
  <div class="container hidden" id="adminPage">
    <h2>Admin - Daftar Kode Akses</h2>
    <label for="newCodeInput">Tambah Kode Akses Baru:</label>
    <input type="text" id="newCodeInput" autocomplete="off" />
    <button id="addCodeBtn">Tambah Kode</button>
    <button class="link-button" id="backToLoginBtn">Kembali ke Login</button>
    <div id="adminError" class="error"></div>
    <div id="admin-list"></div>
  </div>

  <!-- Generator Page -->
  <div class="container hidden" id="generatorPage">
    <h2>Username Generator</h2>
    <button id="logoutBtn" style="background:#d9534f; margin-bottom: 20px;">Logout</button>

    <label for="baseWord">Username yang dituju:</label>
    <input type="text" id="baseWord" placeholder="contoh: cantik" autocomplete="off" />

    <div class="filter-type">
      <label><input type="radio" name="mode" value="insert" checked> Sisipkan Huruf</label>
      <label><input type="radio" name="mode" value="replace"> Ganti Huruf</label>
    </div>

    <label>Pilih huruf:</label>
    <div class="alphabet-buttons" id="alphabetButtons"></div>

    <button class="generate" id="generateBtn">Generate</button>

    <div id="results"></div>
  </div>

<script>
  // Data storage keys
  const ACCESS_CODES_KEY = 'accessCodes';
  const LOGGED_IN_CODE_KEY = 'loggedInCode';

  // Initialize with some codes if none
  if (!localStorage.getItem(ACCESS_CODES_KEY)) {
    localStorage.setItem(ACCESS_CODES_KEY, JSON.stringify(['abc123', 'user2025', 'demo']));
  }

  // Utils
  function getAccessCodes() {
    try {
      return JSON.parse(localStorage.getItem(ACCESS_CODES_KEY)) || [];
    } catch {
      return [];
    }
  }
  function saveAccessCodes(codes) {
    localStorage.setItem(ACCESS_CODES_KEY, JSON.stringify(codes));
  }
  function isLoggedIn() {
    return !!localStorage.getItem(LOGGED_IN_CODE_KEY);
  }
  function logout() {
    localStorage.removeItem(LOGGED_IN_CODE_KEY);
  }

  // DOM refs
  const loginPage = document.getElementById('loginPage');
  const adminPage = document.getElementById('adminPage');
  const generatorPage = document.getElementById('generatorPage');

  const accessCodeInput = document.getElementById('accessCodeInput');
  const loginError = document.getElementById('loginError');
  const loginBtn = document.getElementById('loginBtn');
  const goAdminBtn = document.getElementById('goAdminBtn');

  const newCodeInput = document.getElementById('newCodeInput');
  const addCodeBtn = document.getElementById('addCodeBtn');
  const adminError = document.getElementById('adminError');
  const adminList = document.getElementById('admin-list');
  const backToLoginBtn = document.getElementById('backToLoginBtn');

  const baseWordInput = document.getElementById('baseWord');
  const alphabetButtonsContainer = document.getElementById('alphabetButtons');
  const generateBtn = document.getElementById('generateBtn');
  const resultsDiv = document.getElementById('results');
  const logoutBtn = document.getElementById('logoutBtn');

  // Alphabet and selected letter
  const alphabet = 'abcdefghijklmnopqrstuvwxyz'.split('');
  let selectedLetter = null;

  // Render alphabet buttons
  function renderAlphabetButtons() {
    alphabetButtonsContainer.innerHTML = '';
    alphabet.forEach(letter => {
      const btn = document.createElement('button');
      btn.textContent = letter;
      btn.type = 'button';
      btn.className = '';
      btn.addEventListener('click', () => {
        // Remove active from all
        alphabetButtonsContainer.querySelectorAll('button').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        selectedLetter = letter;
      });
      alphabetButtonsContainer.appendChild(btn);
    });
  }

  // Show page utility
  function showPage(page) {
    loginPage.classList.add('hidden');
    adminPage.classList.add('hidden');
    generatorPage.classList.add('hidden');
    page.classList.remove('hidden');
  }

  // Load admin codes list
  function renderAdminList() {
    const codes = getAccessCodes();
    if (codes.length === 0) {
      adminList.textContent = 'Belum ada kode akses terdaftar.';
    } else {
      adminList.textContent = codes.map(c => `- ${c}`).join('\n');
    }
  }

  // Login button click
  loginBtn.addEventListener('click', () => {
    const code = accessCodeInput.value.trim();
    if (!code) {
      loginError.textContent = 'Kode akses tidak boleh kosong.';
      return;
    }
    const codes = getAccessCodes();
    if (codes.includes(code)) {
      localStorage.setItem(LOGGED_IN_CODE_KEY, code);
      loginError.textContent = '';
      accessCodeInput.value = '';
      renderAlphabetButtons();
      baseWordInput.value = '';
      resultsDiv.innerHTML = '';
      showPage(generatorPage);
    } else {
      loginError.textContent = 'Kode akses salah.';
    }
  });

  // Admin button click from login page
  goAdminBtn.addEventListener('click', () => {
    loginError.textContent = '';
    accessCodeInput.value = '';
    adminError.textContent = '';
    newCodeInput.value = '';
    renderAdminList();
    showPage(adminPage);
  });

  // Back to login from admin page
  backToLoginBtn.addEventListener('click', () => {
    adminError.textContent = '';
    newCodeInput.value = '';
    showPage(loginPage);
  });

  // Add new access code in admin page
  addCodeBtn.addEventListener('click', () => {
    const newCode = newCodeInput.value.trim();
    if (!newCode) {
      adminError.textContent = 'Kode akses baru tidak boleh kosong.';
      return;
    }
    let codes = getAccessCodes();
    if (codes.includes(newCode)) {
      adminError.textContent = 'Kode akses sudah ada.';
      return;
    }
    codes.push(newCode);
    saveAccessCodes(codes);
    adminError.textContent = 'Kode akses berhasil ditambahkan!';
    newCodeInput.value = '';
    renderAdminList();
    setTimeout(() => { adminError.textContent = ''; }, 3000);
  });

  // Logout button
  logoutBtn.addEventListener('click', () => {
    logout();
    selectedLetter = null;
    showPage(loginPage);
  });

  // Username generator logic
  function generateUsernames(baseWord, letter, mode) {
    const results = [];
    if (!baseWord || !letter) return results;

    if (mode === 'insert') {
      // Sisipkan huruf di awal, antar huruf, dan akhir
      // Awal
      results.push(letter + baseWord);
      // Antar huruf
      for (let i = 0; i < baseWord.length; i++) {
        results.push(baseWord.slice(0, i + 1) + letter + baseWord.slice(i + 1));
      }
      // Akhir
      results.push(baseWord + letter);
    } else if (mode === 'replace') {
      // Ganti setiap huruf dari a-z sesuai filter letter
      // Tapi hanya ganti huruf yg sama dengan base word posisi i
      // Kalau diminta ganti huruf apa saja dengan letter yang dipilih
      for (let i = 0; i < baseWord.length; i++) {
        let replaced = baseWord.substring(0, i) + letter + baseWord.substring(i + 1);
        results.push(replaced);
      }
    }
    // Buang duplikat dan filter yg sama persis dengan baseWord (untuk replace bisa saja sama)
    const filtered = [...new Set(results)].filter(r => r !== baseWord);
    return filtered;
  }

  // Generate button click
  generateBtn.addEventListener('click', () => {
    const baseWord = baseWordInput.value.trim().toLowerCase();
    const mode = document.querySelector('input[name="mode"]:checked').value;
    if (!baseWord) {
      alert('Masukkan username yang dituju!');
      baseWordInput.focus();
      return;
    }
    if (!selectedLetter) {
      alert('Pilih huruf filter terlebih dahulu!');
      return;
    }
    const usernames = generateUsernames(baseWord, selectedLetter, mode);
    if (usernames.length === 0) {
      resultsDiv.innerHTML = '<em>Tidak ada hasil yang dihasilkan.</em>';
      return;
    }
    // Tampilkan hasil dengan link clickable
    const baseURL = 'https://x.com/';

    resultsDiv.innerHTML = '';
    usernames.forEach(name => {
      const line = document.createElement('div');
      const userSpan = document.createElement('strong');
      userSpan.textContent = '@' + name;
      const link = document.createElement('a');
      link.href = baseURL + name;
      link.target = '_blank';
      link.rel = 'noopener noreferrer';
      link.textContent = baseURL + name;

      line.appendChild(userSpan);
      line.appendChild(link);
      resultsDiv.appendChild(line);
    });
  });

  // On load, cek login status
  window.addEventListener('load', () => {
    if (isLoggedIn()) {
      renderAlphabetButtons();
      showPage(generatorPage);
    } else {
      showPage(loginPage);
    }
  });
</script>

</body>
</html>
